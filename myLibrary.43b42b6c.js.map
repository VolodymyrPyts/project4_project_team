{"mappings":"gfACA,IAaIA,EAbJC,EAAAC,EAAA,S,uCAKMC,EAAgBC,SAASC,cAAc,qBACvCC,EAAeF,SAASC,cAAc,oBAGtCE,EAAQH,SAASC,cAAc,sBASrC,SAASG,EAAkBC,GACzB,GACEC,aAAaC,QAAQF,IACrBG,KAAKC,MAAMH,aAAaC,QAAQF,IAAUK,OAAS,EAEnD,OAAO,EAGX,SAASC,IACPf,EAAiB,UACbQ,EAAkB,YACpBQ,EAAuB,WACvBb,WAAec,UAAUC,IAAI,cAC7BZ,WAAcW,UAAUE,OAAO,eAC/B,EAAAC,EAAAC,QAAM,KAENC,IACArB,EAAAsB,OAAOC,QAAQ,+BAInB,SAASC,IACPzB,EAAiB,SACbQ,EAAkB,WACpBQ,EAAuB,UACvBb,WAAec,UAAUE,OAAO,cAChCb,WAAcW,UAAUC,IAAI,eAC5B,EAAAE,EAAAC,QAAM,KAENC,IACArB,EAAAsB,OAAOC,QAAQ,2CAiBnB,SAASF,IACHf,IACFA,EAAMmB,UACJ,6EAyDC,SAASV,EAAuBP,GAChCF,GAASP,IAAmBS,IAC7BD,EAAkBC,GACpBF,EAAMmB,UAAYd,KAAKC,MAAMH,aAAaC,QAAQF,IAC/CkB,KACC,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAAWH,EAAXG,YAAaC,EAASJ,EAATI,UAAWC,EAAYL,EAAZK,aAAcC,EAAYN,EAAZM,aAC5CC,EAsBhB,SAA0BC,GACxB,IAAIC,EAAcC,EAAAC,OAAOC,QAAO,SAACC,EAAGb,G,IAAIC,EAAED,EAAFC,GAAIa,EAAId,EAAJc,KAI1C,OAHIN,EAAQO,SAASd,IACnBY,EAAIG,KAAKF,GAEJD,IACN,IACCJ,EAAYvB,OAAS,IACvBuB,EAAcA,EAAYQ,MAAM,EAAG,IACvBD,KAAK,SAEnB,OAAOP,EAjCyBS,CAAiBd,GAAWe,KAAK,MACnDC,EAAWjB,EAAc,kCAA8CkB,OAAZlB,GAAgB,8FACjF,MAAO,+BACoBkB,OADWpB,EAAG,0CACGoB,OAAjBD,EAAS,UAEdC,OAFsBnB,EAAM,oFAIxBmB,OAFJnB,EAAM,6EAGHmB,OADCd,EAAgB,8CAEfc,OADFf,EAAaW,MAAM,EAAG,GAAG,gDACCI,OAAxBhB,EAAaiB,QAAQ,GAAG,oEAOtDH,KAAK,IAERzB,KAvIJ6B,OAAOC,iBAAiB,oBAsCxB,WAEE,OADA,EAAAC,EAAAC,eACI9C,EAAkB,WACbO,IAGLP,EAAkB,UACbiB,IAGFH,OA/CTnB,WAAeiD,iBAAiB,QAASrC,GACzCT,WAAc8C,iBAAiB,QAAS3B,G","sources":["src/js/myLibrary.js"],"sourcesContent":["// import { modal } from './modal';\nimport { Notify } from 'notiflix';\nimport { genres } from '../genres.json';\nimport { modal } from './modal';\nimport { fonNightDay } from './fonNightDay';\n\nconst libWatchedBtn = document.querySelector('#lib__watched-btn');\nconst libQueuedBtn = document.querySelector('#lib__queued-btn');\n// const watchedFilms = localStorage.getItem('Watched');\n// const queuedFilms = localStorage.getItem('Queued');\nconst cards = document.querySelector('.library-container');\n\n// const watchedFilmsArray = JSON.parse(watchedFilms);\n// const queuedFilmsArray = JSON.parse(queuedFilms);\nlet currentLibrery;\nwindow.addEventListener('DOMContentLoaded', onPageLoad);\nlibWatchedBtn?.addEventListener('click', onWatchedBtnClick);\nlibQueuedBtn?.addEventListener('click', onQueuedBtnClick);\n\nfunction isLibreryNotEmpty(librery) {\n  if (\n    localStorage.getItem(librery) &&\n    JSON.parse(localStorage.getItem(librery)).length > 0\n  )\n    return true;\n}\n\nfunction onWatchedBtnClick() {\n  currentLibrery = 'Watched';\n  if (isLibreryNotEmpty('Watched')) {\n    renderFilmsFromStorage('Watched');\n    libWatchedBtn?.classList.add('active_btn');\n    libQueuedBtn?.classList.remove('active_btn');\n    modal(true);\n  } else {\n    renderEmptyLibrary();\n    Notify.warning('You have no watched films!');\n  }\n}\n\nfunction onQueuedBtnClick() {\n  currentLibrery = 'Queued';\n  if (isLibreryNotEmpty('Queued')) {\n    renderFilmsFromStorage('Queued');\n    libWatchedBtn?.classList.remove('active_btn');\n    libQueuedBtn?.classList.add('active_btn');\n    modal(true);\n  } else {\n    renderEmptyLibrary();\n    Notify.warning('You have no films in your watch queue!');\n  }\n}\n\nfunction onPageLoad() {\n  fonNightDay();\n  if (isLibreryNotEmpty('Watched')) {\n    return onWatchedBtnClick();\n  }\n\n  if (isLibreryNotEmpty('Queued')) {\n    return onQueuedBtnClick();\n  }\n\n  return renderEmptyLibrary();\n}\n\nfunction renderEmptyLibrary() {\n  if (cards)\n    cards.innerHTML =\n      '<p class=\"lib__empty-placeholder\">Oops! There is no films here yet:-(</p>';\n}\n\n// export function renderWatchedFilmsFromStorage() {\n//   if (!cards || currentLibrery !== 'Watched') return;\n//   if (isLibreryNotEmpty('Watched')) {\n//     cards.innerHTML = JSON.parse(localStorage.getItem('Watched'))\n//       .map(\n//         ({ id, title, poster_path, genre_ids, vote_average, release_date }) => {\n//           const filmsGenresList = getfilmsGenresUl(genre_ids).join(', ');\n//           return `<div class=\"movie__card\" id=${id}>\n//     <img class=\"movie__poster\" src=https://image.tmdb.org/t/p/w500${poster_path} alt=\"${title}\">\n//     <div class=\"movie__info\">\n//        <p class=\"movie__name\">${title}</p>\n//       <div class=\"movie__data\">\n//        <span class=\"movie__genre\">${filmsGenresList}</span>\n//        <span class=\"movie__year\">${release_date.slice(0, 4)}</span>\n//        <span class=\"movie__rating\">${vote_average.toFixed(1)}</span>\n//        </div>\n//        </div>\n//        </div>\n//        `;\n//         }\n//       )\n//       .join('');\n//   } else {\n//     renderEmptyLibrary();\n//   }\n// }\n\n// export function renderQueuedFilmsFromStorage() {\n//   if (!cards || currentLibrery !== 'Queued') return;\n//   if (isLibreryNotEmpty('Queued')) {\n//     cards.innerHTML = JSON.parse(localStorage.getItem('Queued'))\n//       .map(\n//         ({ id, title, poster_path, genre_ids, vote_average, release_date }) => {\n//           const filmsGenresList = getfilmsGenresUl(genre_ids).join(', ');\n//           return `<div class=\"movie__card\" id=${id}>\n//     <img class=\"movie__poster\" src=https://image.tmdb.org/t/p/w500${poster_path} alt=\"${title}\">\n//     <div class=\"movie__info\">\n//        <p class=\"movie__name\">${title}</p>\n//       <div class=\"movie__data\">\n//        <span class=\"movie__genre\">${filmsGenresList}</span>\n//        <span class=\"movie__year\">${release_date.slice(0, 4)}</span>\n//        <span class=\"rating\">${vote_average.toFixed(1)}</span>\n//        </div>\n//        </div>\n//        </div>\n//        `;\n//         }\n//       )\n//       .join('');\n//   } else {\n//     renderEmptyLibrary();\n//   }\n// }\n\nexport function renderFilmsFromStorage(librery) {\n  if (!cards || currentLibrery !== librery) return;\n  if (isLibreryNotEmpty(librery)) {\n    cards.innerHTML = JSON.parse(localStorage.getItem(librery))\n      .map(\n        ({ id, title, poster_path, genre_ids, vote_average, release_date }) => {\n          const filmsGenresList = getfilmsGenresUl(genre_ids).join(', ');\n          const imageUrl = poster_path ? `https://image.tmdb.org/t/p/w500${poster_path}` : 'https://placehold.jp/aaabb1/ffffff/395x574.png?text=This%20movie%20has%20no%20poster%20%3A(';\n          return `<div class=\"movie__card\" id=${id}>\n    <img class=\"movie__poster\" src=${imageUrl} alt=\"${title}\" loading=\"lazy\">\n    <div class=\"movie__info\">\n       <p class=\"movie__name\">${title}</p>\n      <div class=\"movie__data\">\n       <span class=\"movie__genre\">${filmsGenresList}</span>\n       <span class=\"movie__year\">${release_date.slice(0, 4)}</span>\n       <span class=\"movie__rating\">${vote_average.toFixed(1)}</span>\n       </div>\n       </div>\n       </div>\n       `;\n        }\n      )\n      .join('');\n  } else {\n    renderEmptyLibrary();\n  }\n}\n\nfunction getfilmsGenresUl(genreId) {\n  let filmsGenres = genres.reduce((acc, { id, name }) => {\n    if (genreId.includes(id)) {\n      acc.push(name);\n    }\n    return acc;\n  }, []);\n  if (filmsGenres.length > 3) {\n    filmsGenres = filmsGenres.slice(0, 2);\n    filmsGenres.push('Other');\n  }\n  return filmsGenres;\n}\n"],"names":["$220f61a1ea70617b$var$currentLibrery","$iU1Pc","parcelRequire","$220f61a1ea70617b$var$libWatchedBtn","document","querySelector","$220f61a1ea70617b$var$libQueuedBtn","$220f61a1ea70617b$var$cards","$220f61a1ea70617b$var$isLibreryNotEmpty","librery","localStorage","getItem","JSON","parse","length","$220f61a1ea70617b$var$onWatchedBtnClick","$220f61a1ea70617b$export$fa9ec8dc77941a73","classList","add","remove","$5xtVg","modal","$220f61a1ea70617b$var$renderEmptyLibrary","Notify","warning","$220f61a1ea70617b$var$onQueuedBtnClick","innerHTML","map","param","id","title","poster_path","genre_ids","vote_average","release_date","filmsGenresList","genreId","filmsGenres","$fKcg4","genres","reduce","acc","name","includes","push","slice","$220f61a1ea70617b$var$getfilmsGenresUl","join","imageUrl","concat","toFixed","window","addEventListener","$27i3Y","fonNightDay"],"version":3,"file":"myLibrary.43b42b6c.js.map"}