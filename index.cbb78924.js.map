{"mappings":"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","sources":["src/index.js","src/filmsListMarkup.js","src/fetchMain.js","src/js/makemovieForKeywordMarkup.js","src/js/loader.js","src/js/pagination.js","src/js/getMoviesForKeyword.js","src/js/modalTeams.js","src/js/modalFormLogin.js"],"sourcesContent":["import './js/modal';\nimport './js/modal';\nimport './filmsListMarkup';\nimport './js/pagination';\nimport './js/getMoviesForKeyword';\nimport './js/modalTeams';\nimport { fonNightDay } from './js/fonNightDay';\nimport { modalFormLogin } from './js/modalFormLogin';\nimport { initialLoader } from './js/loader';\n\nfonNightDay();\nmodalFormLogin();\ninitialLoader();\n\n","import axios from 'axios';\nimport { genres } from './genres.json';\nimport { initPagination } from './js/pagination';\nimport { modal } from './js/modal';\nconst baseUrl = 'https://api.themoviedb.org/3/';\nconst key = 'f70abac86533d424df79b342ee8b9ff4';\nlet page = 1;\n\nexport async function fetchTrendMovies() {\n  try {\n    const { data } = await axios.get(\n      `${baseUrl}/trending/movie/week?api_key=${key}&page=${page}`\n    );\n    return data;\n  } catch (error) {\n    console.error('ERROR');\n  }\n}\n\nconst cards = document.querySelector('.container-movie-card');\n\nfetchTrendMovies().then(data => {\n  makeFilmsMarkup(data);\n  initPagination(data.total_pages);\n  localStorage.setItem('films-request-result', JSON.stringify(data.results));\n  modal();\n  // console.log(data.results);\n});\n\nexport function makeFilmsMarkup(movie) {\n  const markup = movie.results\n    .map(\n      ({ id, title, poster_path, genre_ids, vote_average, release_date }) => {\n        const filmsGenresList = getfilmsGenresUl(genre_ids).join(', ');\n        const imageUrl = poster_path ? `https://image.tmdb.org/t/p/w500${poster_path}` : 'https://placehold.jp/aaabb1/ffffff/395x574.png?text=This%20movie%20has%20no%20poster%20%3A(';\n        return `<div class=\"movie__card\" id=${id}>\n    <img class=\"movie__poster\" src=\"${imageUrl}\" alt=\"${title}\" loading=\"lazy\">\n    <div class=\"movie__info\">\n       <p class=\"movie__name\">${trimMovieTitle(title)}</p>\n      <div class=\"movie__data\">\n       <span class=\"movie__genre\">${filmsGenresList}</span>\n       <span class=\"movie__year\">${release_date.slice(0, 4)}</span>\n       <span class=\"movie__rating\">${vote_average.toFixed(1)}</span>\n       </div>\n       </div>\n       </div>\n       `;\n      }\n    )\n    .join('');\n\n  cards.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function getfilmsGenresUl(genreId) {\n  let filmsGenres = genres.reduce((acc, { id, name }) => {\n    if (genreId.includes(id)) {\n      acc.push(name);\n    }\n    return acc;\n  }, []);\n  if (filmsGenres.length > 3) {\n    filmsGenres = filmsGenres.slice(0, 2);\n    filmsGenres.push('Other');\n  }\n  return filmsGenres;\n}\n\nexport function trimMovieTitle(movieTitle) {\n  if (movieTitle.length > 30) {\n    return `${movieTitle.substring(0, 30)} <span>...</span>`;\n  }\n  return movieTitle;\n}\n","import axios from 'axios';\n\nexport class FetchApi {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.list = 'home';\n    this.baseUrl = 'https://api.themoviedb.org/3/';\n    this.language = 'en-US';\n    this.key = 'f70abac86533d424df79b342ee8b9ff4';\n  }\n  set pageNumber(el) {\n    this.page = el;\n  }\n  get pageNumber() {\n    return this.page;\n  }\n\n  get currentSearchQuery() {\n    return this.searchQuery;\n  }\n\n  set currentSearchQuery(newSearchQuery) {\n    this.searchQuery = newSearchQuery;\n  }\n\n  // get genres\n  async fetchGenres() {\n    const url = `${this.baseUrl}genre/movie/list?api_key=${this.key}&language=${this.language}`;\n    try {\n      const response = await fetch(url);\n\n      const results = await response.json();\n      return results;\n    } catch (error) {\n      error;\n    }\n  }\n\n  // trending movies\n  async fetchTrendingWeekFilmsByPage() {\n    const url = `${this.baseUrl}trending/movie/week?api_key=${this.key}&language=${this.language}&page=${this.page}`;\n    const response = await fetch(url);\n\n    return await response.json();\n  }\n\n  // popular movies\n  async fetchPopularFilmsByPage() {\n    const url = `${this.baseUrl}movie/popular?api_key=${this.key}&language=${this.language}&page=${this.page}`;\n    const response = await fetch(url);\n\n    return await response.json();\n  }\n\n  // search movie\n  async fetchSearchFilms() {\n    try {\n      const response = await fetch(\n        `${this.baseUrl}search/movie?api_key=${this.key}&language=${this.language}&page=${this.page}&include_adult=false&query=${this.searchQuery}`\n      );\n      const data = await response.json();\n      const results = await data;\n      return results;\n    } catch (error) {\n      error;\n    }\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n","import { getfilmsGenresUl } from '../filmsListMarkup';\nimport { trimMovieTitle } from '../filmsListMarkup';\n\n\nexport const makemovieForKeywordMarkup = results => {\n  return results\n    .map(\n      ({ id, title, poster_path, genre_ids, vote_average, release_date }) => {\n        const filmsGenresList = getfilmsGenresUl(genre_ids).join(', ');\n        const imageUrl = poster_path ? `https://image.tmdb.org/t/p/w500${poster_path}` : \"https://placehold.jp/aaabb1/ffffff/395x574.png?text=This%20movie%20has%20no%20poster%20%3A(\";\n        return `<div class=\"movie__card\" id=${id}>\n    <img class=\"movie__poster\" src=\"${imageUrl}\" alt=\"${title}\" loading=\"lazy\">\n    <div class=\"movie__info\">\n       <p class=\"movie__name\">${trimMovieTitle(title)}</p>\n      <div class=\"movie__data\">\n       <span class=\"movie__genre\">${filmsGenresList}</span>\n       <span class=\"movie__year\">${release_date.slice(0, 4)}</span>\n       <span class=\"movie__rating\">${vote_average.toFixed(1)}</span>\n       </div>\n       </div>\n       </div>\n       `;\n      }\n    )\n    .join('');\n};\n","import { Loading } from 'notiflix';\n\nfunction addLoader() {  \n    Loading.circle({\n        svgColor: '#FF001B',\n        svgSize: '90px',\n        cssAnimation: true\n    });\n    document.querySelector('body').style.overflow = 'hidden';\n}\n\nfunction removeLoader() {\n    setTimeout(() => {\n        Loading.remove(); \n        document.querySelector('body').style.overflow = 'visible';   \n    }, 300);\n}\n\nfunction initialLoader() {\n    addLoader();\n\n    window.addEventListener('load', () => {\n        removeLoader();\n    });\n}\n\nexport { addLoader, removeLoader, initialLoader };","import { FetchApi } from './../fetchMain';\nimport { makemovieForKeywordMarkup } from './makemovieForKeywordMarkup';\nimport { addLoader, removeLoader } from './loader';\nimport { modal } from './modal';\n\nconst drawSectionRef = document.querySelector('.container-movie-card');\nconst paginationWrapperRef = document.querySelector('.pagination__wrapper');\nconst paginationButtonPrevRef = document.querySelector(\n  '.pagination__button--prev'\n);\nconst paginationButtonNextRef = document.querySelector(\n  '.pagination__button--next'\n);\n\nlet pageCount;\nconst FILMS_REQUEST_RESULT = 'films-request-result';\nconst fetchApi = new FetchApi();\n\n// const MAX_PAGE_COUNT = 500; виявилося лише для популярних обмеження\n\npaginationButtonPrevRef.addEventListener('click', onPaginationButtonPrevClick);\npaginationButtonNextRef.addEventListener('click', onPaginationButtonNextClick);\npaginationWrapperRef.addEventListener('click', onPaginationButtonClick);\nwindow.addEventListener('resize', () => {\n  paginationButtonsMurkup(fetchApi.pageNumber - 2, fetchApi.pageNumber + 2);\n});\n\nexport function initPagination(totalPages, searchQuery = '') {\n  fetchApi.pageNumber = 1;\n  fetchApi.searchQuery = searchQuery;\n  pageCount = totalPages;\n  paginationButtonsMurkup(fetchApi.pageNumber - 2, fetchApi.pageNumber + 2);\n  setButtonArrowState();\n}\n\nasync function getTrendingFilms() {\n  const { total_pages, results } =\n    await fetchApi.fetchTrendingWeekFilmsByPage();\n  pageCount = total_pages;\n  localStorage.setItem(FILMS_REQUEST_RESULT, JSON.stringify(results));\n  drawSectionRef.innerHTML = makemovieForKeywordMarkup(results);\n  \n}\n\nasync function getSearchedFilms() {\n  const { total_pages, results } = await fetchApi.fetchSearchFilms();\n  pageCount = total_pages;\n  localStorage.setItem(FILMS_REQUEST_RESULT, JSON.stringify(results));\n  drawSectionRef.innerHTML = makemovieForKeywordMarkup(results);\n}\n\nfunction paginationButtonsMurkup(left, right) {\n  if (window.innerWidth > 767 && pageCount >= 9) {\n    if (left < 3) {\n      left = 3;\n      right = 7;\n    }\n    if (right >= pageCount) {\n      left = pageCount - 6;\n      right = pageCount - 2;\n    }\n  } else {\n    if (left < 1) {\n      left = 1;\n      right = 5;\n    }\n    if (right > pageCount) {\n      left = pageCount - 4;\n      right = pageCount;\n      if (left < 1) {\n        left = 1;\n      }\n    }\n  }\n  if (window.innerWidth > 767 && pageCount < 9) {\n    left = 1;\n    right = pageCount;\n  }\n\n  const buttonCollection = [];\n  if (window.innerWidth > 767 && pageCount >= 9) {\n    buttonCollection.push(\n      `<button type=\"button\" class=\"${\n        fetchApi.pageNumber === 1\n          ? 'pagination__button pagination__button--current'\n          : 'pagination__button'\n      }\" data-page=\"1\">1</button>`\n    );\n\n    if (left - 1 > 2) {\n      buttonCollection.push(\n        `<button type=\"button\" class=\"pagination__button\" data-page=\"${\n          left - 3\n        }\">...</button>`\n      );\n    } else {\n      buttonCollection.push(\n        `<button type=\"button\" class=\"${\n          fetchApi.pageNumber === 2\n            ? 'pagination__button pagination__button--current'\n            : 'pagination__button'\n        }\" data-page=\"2\">2</button>`\n      );\n    }\n    if (pageCount - right === 1) {\n      left--;\n      right--;\n    }\n  }\n\n  for (let i = left; i <= right; i++) {\n    buttonCollection.push(\n      `<button type=\"button\" class=\"${\n        i === fetchApi.pageNumber\n          ? 'pagination__button pagination__button--current'\n          : 'pagination__button'\n      }\" data-page=\"${i}\">${i}</button>`\n    );\n  }\n\n  if (window.innerWidth > 767 && pageCount >= 9) {\n    if (pageCount - right > 2) {\n      buttonCollection.push(\n        `<button type=\"button\" class=\"pagination__button\" data-page=\"${\n          right + 3\n        }\">...</button>`\n      );\n    } else {\n      buttonCollection.push(\n        `<button type=\"button\" class=\"${\n          fetchApi.pageNumber === pageCount - 1\n            ? 'pagination__button pagination__button--current'\n            : 'pagination__button'\n        }\" data-page=\"${pageCount - 1}\">${pageCount - 1}</button>`\n      );\n    }\n\n    buttonCollection.push(\n      `<button type=\"button\" class=\"${\n        fetchApi.pageNumber === pageCount\n          ? 'pagination__button pagination__button--current'\n          : 'pagination__button'\n      }\" data-page=\"${pageCount}\">${pageCount}</button>`\n    );\n  }\n\n  paginationWrapperRef.innerHTML = buttonCollection.join('');\n}\n\nfunction onPaginationButtonClick(e) {\n  fetchApi.pageNumber = Number(e.target.dataset.page);\n  getData();\n}\n\nfunction onPaginationButtonNextClick() {\n  if (fetchApi.pageNumber < pageCount) {\n    fetchApi.pageNumber++;\n    getData();\n  }\n}\n\nfunction onPaginationButtonPrevClick() {\n  if (fetchApi.pageNumber > 1) {\n    fetchApi.pageNumber--;\n    getData();\n  }\n}\n\nfunction setButtonArrowState() {\n  if (fetchApi.pageNumber === 1) {\n    paginationButtonPrevRef.setAttribute('disabled', 'true');\n  } else {\n    paginationButtonPrevRef.removeAttribute('disabled');\n  }\n  if (fetchApi.pageNumber === pageCount) {\n    paginationButtonNextRef.setAttribute('disabled', 'true');\n  } else {\n    paginationButtonNextRef.removeAttribute('disabled');\n  }\n}\n\nasync function getData() {\n  addLoader();\n  if (fetchApi.searchQuery) {\n    await getSearchedFilms();\n  } else {\n    await getTrendingFilms();\n  }\n  removeLoader();\n  modal();\n\n  paginationButtonsMurkup(fetchApi.pageNumber - 2, fetchApi.pageNumber + 2);\n  setButtonArrowState();\n  goToTopSection();\n}\n\nfunction goToTopSection() {\n  drawSectionRef.scrollIntoView();\n}\n","import { FetchApi } from '../fetchMain';\n\nimport { initPagination } from './pagination';\n\nimport { addLoader, removeLoader } from './loader';\nimport { makemovieForKeywordMarkup } from './makemovieForKeywordMarkup';\nimport { modal } from './modal';\nimport axios from 'axios';\n\nconst fetchApi = new FetchApi();\n\nconst refs = {\n  form: document.querySelector('.form'),\n  markupMuvieForKeyword: document.querySelector('.container-movie-card'),\n  boxError: document.querySelector('.cap__box-error'),\n};\n\nconst cards = document.querySelector('.container-movie-card');\n\nrefs.form.addEventListener('submit', omFormUserSubmit);\n\nasync function omFormUserSubmit(event) {\n  event.preventDefault();\n  addLoader();\n  fetchApi.searchQuery = event.currentTarget.elements.searchQuery.value.trim();\n\n  event.currentTarget.reset();\n  fetchApi.resetPage();\n  if (fetchApi.searchQuery === '') {\n    refs.boxError.classList.remove('is-hidden');\n    clearResultsContainer();\n    return removeLoader();\n  }\n\n  try {\n    const { total_pages, results } = await fetchApi.fetchSearchFilms();\n\n    if (results.length === 0) {\n      removeLoader();\n      clearResultsContainer();\n      return refs.boxError.classList.remove('is-hidden');\n    }\n\n    clearResultsContainer();\n    appendResultsMarkup(results);\n\n    refs.boxError.classList.add('is-hidden');\n\n    initPagination(total_pages, fetchApi.searchQuery);\n    localStorage.setItem('films-request-result', JSON.stringify(results));\n    modal();\n\n    removeLoader();\n  } catch (error) {\n    console.log(error.message);\n    removeLoader();\n  }\n}\n\nfunction appendResultsMarkup(results) {\n  refs.markupMuvieForKeyword.insertAdjacentHTML(\n    'beforeend',\n    makemovieForKeywordMarkup(results)\n  );\n}\n\nfunction clearResultsContainer() {\n  refs.markupMuvieForKeyword.innerHTML = '';\n}\n","\nconst refs = {\n  modal: document.querySelector('.modalTeams'),\n  closeBtn: document.querySelector('.modalTeamClose'),\n  openModalTeam: document.querySelectorAll('.modalTeamOpen'),\n};\n\n// відкритя модалку\nrefs.openModalTeam.forEach(item => {\n  item.addEventListener('click', onOpenModal);\n});\n\n// закритя модалку\nrefs.closeBtn.addEventListener('click', onCloseModal);\n\n// бекдропу закриває модалку\nrefs.modal.addEventListener('click', onBackdropClick);\n\nfunction onBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    onCloseModal();\n  }\n}\n\n// Escape закриває модалку\nfunction onEscKeyPress(event) {\n  const ESC_KEY = event.code === 'Escape';\n\n  if (ESC_KEY) {\n    onCloseModal();\n  }\n}\n\n// Функція відкриватя модалки.\nfunction onOpenModal() {\n  document.body.style.overflow = 'hidden';\n  window.addEventListener('keydown', onEscKeyPress);\n  refs.modal.classList.remove('is-hidden');\n}\n\n// Функція закритя\nfunction onCloseModal() {\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', onEscKeyPress);\n  refs.modal.classList.add('is-hidden');\n}\n","\nconst registerBtn = document.querySelector(\".btn__to-register\");\nconst formLogin = document.querySelector(\".form-login\");\nconst formRegister = document.querySelector(\".form__register\");\nconst form = document.querySelector(\".singUp__form\");\nconst formReg = document.querySelector(\".singUp__form-second\");\n\n\n\nregisterBtn.addEventListener('click', () => {\n  formLogin.style.display = 'none';\n  formRegister.style.display = 'block';\n})\nexport function modalFormLogin()  {\n    (() => {\n  const refs = {\n    checkModalBtn: document.querySelector(\".btn__form-login-check\"),\n    openModalBtn: document.querySelector(\".btn__form-login\"),\n    closeModalBtn: document.querySelector(\".modal-login__close-btn\"),\n    modal: document.querySelector(\".modal__login\"),\n    modalBackdrop: document.querySelector(\".bacekdrop_box\"),\n  };\n  refs.checkModalBtn.style.display = 'none';\n  refs.openModalBtn.addEventListener(\"click\", toggleModal);\n  refs.closeModalBtn.addEventListener(\"click\", toggleModalClose);\n\n  function toggleModal() {\n    refs.modal.classList.toggle(\"is-hidd\");\n    refs.modalBackdrop.classList.add(\"bacekdrop\");\n    \n  }\n  function toggleModalClose() {\n    formLogin.style.display = 'block';\n    formRegister.style.display = 'none';\n    refs.modal.classList.toggle(\"is-hidd\");\n    refs.modalBackdrop.classList.remove(\"bacekdrop\");\n  }\n      \n  form.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    const emailInput = e.currentTarget.email.value.trim();\n    const keylInput = e.currentTarget.text.value.trim();\n    if (emailInput === '' || keylInput === '') {\n      alert(\"Fill in the field!\");\n    } else {\n      console.log(\"Email:\", emailInput);\n      console.log(\"Key:\", keylInput);\n      form.reset();\n      toggleModalClose();\n      alert(\"You have successfully logged into your account\");\n      refs.openModalBtn.style.display = 'none';\n      refs.checkModalBtn.style.display = 'block';\n    }\n  });\n  formReg.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    const emailInput = e.currentTarget.email.value.trim();\n    const keylInput = e.currentTarget.text.value.trim();\n    if (emailInput === '' || keylInput === '') {\n      alert(\"Fill in the field!\");\n    } else {\n      console.log(\"Email:\", emailInput);\n      console.log(\"Key:\", keylInput);\n      \n      toggleModalClose();\n      alert(\"Registration was successful\");\n    }\n  });\n    })();\n  \n  \n};\n\n"],"names":["parcelRequire","$2shzp","$498b51d0953257f1$export$e1dc588fff48d84a","pageNumber","el","this","page","currentSearchQuery","searchQuery","newSearchQuery","async","url","baseUrl","key","language","response","fetch","json","error","data","resetPage","constructor","list","$e65e8f35a18e2296$export$8b9a60a197c3be79","results","map","id","title","poster_path","genre_ids","vote_average","release_date","filmsGenresList","$610a2fec86f0d164$export$49c82bf87145900d","join","$610a2fec86f0d164$export$c162ec657b53c2a3","slice","toFixed","$eWCmQ","$bdfcdc80b4c38739$export$4d81fd392b0a6f3e","Loading","circle","svgColor","svgSize","cssAnimation","document","querySelector","style","overflow","$bdfcdc80b4c38739$export$5303cf8b8f096deb","setTimeout","remove","$1bab9c519cfa82bc$var$drawSectionRef","$1bab9c519cfa82bc$var$paginationWrapperRef","$1bab9c519cfa82bc$var$paginationButtonPrevRef","$1bab9c519cfa82bc$var$paginationButtonNextRef","$1bab9c519cfa82bc$var$pageCount","$1bab9c519cfa82bc$var$fetchApi","$1bab9c519cfa82bc$export$6dfc2f1a4e205afe","totalPages","$1bab9c519cfa82bc$var$paginationButtonsMurkup","$1bab9c519cfa82bc$var$setButtonArrowState","left","right","window","innerWidth","buttonCollection","push","i","innerHTML","setAttribute","removeAttribute","$1bab9c519cfa82bc$var$getData","total_pages","fetchSearchFilms","localStorage","setItem","JSON","stringify","$1bab9c519cfa82bc$var$getSearchedFilms","fetchTrendingWeekFilmsByPage","$1bab9c519cfa82bc$var$getTrendingFilms","$bTcpz","modal","scrollIntoView","addEventListener","e","Number","target","dataset","$610a2fec86f0d164$var$cards","genreId","filmsGenres","$eRClg","genres","reduce","acc","name","includes","length","movieTitle","substring","$parcel$interopDefault","get","console","$610a2fec86f0d164$export$c798854e734872f","then","movie","markup","insertAdjacentHTML","$610a2fec86f0d164$export$30d6f16164c3757b","$b638844e344c86cb$var$fetchApi","$b638844e344c86cb$var$refs","form","markupMuvieForKeyword","boxError","$b638844e344c86cb$var$clearResultsContainer","event","preventDefault","currentTarget","elements","value","trim","reset","classList","$b638844e344c86cb$var$appendResultsMarkup","add","log","message","$d9e28b88fad4911f$var$refs","closeBtn","openModalTeam","querySelectorAll","$d9e28b88fad4911f$var$onEscKeyPress","code","$d9e28b88fad4911f$var$onCloseModal","$d9e28b88fad4911f$var$onOpenModal","body","removeEventListener","forEach","item","$42ffccd3bd7d93a8$var$registerBtn","$42ffccd3bd7d93a8$var$formLogin","$42ffccd3bd7d93a8$var$formRegister","$42ffccd3bd7d93a8$var$form","$42ffccd3bd7d93a8$var$formReg","display","$7Uk0D","fonNightDay","refs","checkModalBtn","openModalBtn","closeModalBtn","modalBackdrop","toggleModalClose","toggle","emailInput","email","keylInput","text","alert"],"version":3,"file":"index.cbb78924.js.map"}