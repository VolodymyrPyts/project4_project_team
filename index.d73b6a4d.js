!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a("iE7OH").register(JSON.parse('{"EVgbq":"index.d73b6a4d.js","4scEk":"defaultImage.eb2c73c4.jpg","bEMvD":"myLibrary.788f5e03.js"}')),a("5xtVg"),a("5xtVg");var o=a("bpxeT"),c=a("2TvXO"),i=a("dIxxU"),s=a("fKcg4"),u=(o=a("bpxeT"),c=a("2TvXO"),o=a("bpxeT"),a("8MBJY")),l=a("a2hTj");c=a("2TvXO");a("dIxxU");var d,p=function(){"use strict";function t(){e(u)(this,t),this.searchQuery="",this.page=1,this.list="home",this.baseUrl="https://api.themoviedb.org/3/",this.language="en-US",this.key="f70abac86533d424df79b342ee8b9ff4"}return e(l)(t,[{key:"pageNumber",get:function(){return this.page},set:function(e){this.page=e}},{key:"currentSearchQuery",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"fetchGenres",value:function(){var t=this;return e(o)(e(c).mark((function n(){var r,a,o;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(t.baseUrl,"genre/movie/list?api_key=").concat(t.key,"&language=").concat(t.language),e.prev=1,e.next=4,fetch(r);case 4:return a=e.sent,e.next=7,a.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),n,null,[[1,11]])})))()}},{key:"fetchTrendingWeekFilmsByPage",value:function(){var t=this;return e(o)(e(c).mark((function n(){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(t.baseUrl,"trending/movie/week?api_key=").concat(t.key,"&language=").concat(t.language,"&page=").concat(t.page),e.next=3,fetch(r);case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),n)})))()}},{key:"fetchPopularFilmsByPage",value:function(){var t=this;return e(o)(e(c).mark((function n(){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(t.baseUrl,"movie/popular?api_key=").concat(t.key,"&language=").concat(t.language,"&page=").concat(t.page),e.next=3,fetch(r);case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),n)})))()}},{key:"fetchSearchFilms",value:function(){var t=this;return e(o)(e(c).mark((function n(){var r,a,o;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t.baseUrl,"search/movie?api_key=").concat(t.key,"&language=").concat(t.language,"&page=").concat(t.page,"&include_adult=false&query=").concat(t.searchQuery));case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.next=9,a;case 9:return o=e.sent,e.abrupt("return",o);case 13:e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),n,null,[[0,13]])})))()}},{key:"resetPage",value:function(){this.page=1}}]),t}();d=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("4scEk");var g=function(t){return t.map((function(t){var n=t.id,r=t.title,a=t.poster_path,o=t.genre_ids,c=t.vote_average,i=t.release_date,s=R(o).join(", "),u=a?"https://image.tmdb.org/t/p/w500".concat(a):e(d);return'<div class="movie__card" id='.concat(n,'>\n    <img class="movie__poster" src="').concat(u,'" alt="').concat(r,'" loading="lazy">\n    <div class="movie__info">\n       <p class="movie__name">').concat(I(r),'</p>\n      <div class="movie__data">\n       <span class="movie__genre">').concat(s,'</span>\n       <span class="movie__year">').concat(i.slice(0,4),'</span>\n       <span class="movie__rating">').concat(c.toFixed(1),"</span>\n       </div>\n       </div>\n       </div>\n       ")})).join("")},m=a("iU1Pc");function f(){m.Loading.circle({svgColor:"#FF001B",svgSize:"90px",cssAnimation:!0}),document.querySelector("body").style.overflow="hidden"}function v(){setTimeout((function(){m.Loading.remove(),document.querySelector("body").style.overflow="visible"}),300)}var b,y=a("5xtVg"),_=document.querySelector(".container-movie-card"),h=document.querySelector(".pagination__wrapper"),k=document.querySelector(".pagination__button--prev"),x=document.querySelector(".pagination__button--next"),w="films-request-result",S=new p;function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";S.pageNumber=1,S.searchQuery=t,b=e,M(S.pageNumber-2,S.pageNumber+2),B()}function L(){return T.apply(this,arguments)}function T(){return(T=e(o)(e(c).mark((function t(){var n,r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.fetchTrendingWeekFilmsByPage();case 2:n=e.sent,r=n.total_pages,a=n.results,b=r,localStorage.setItem(w,JSON.stringify(a)),_.innerHTML=g(a);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function q(){return N.apply(this,arguments)}function N(){return(N=e(o)(e(c).mark((function t(){var n,r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.fetchSearchFilms();case 2:n=e.sent,r=n.total_pages,a=n.results,b=r,localStorage.setItem(w,JSON.stringify(a)),_.innerHTML=g(a);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function M(e,t){window.innerWidth>767&&b>=9?(e<3&&(e=3,t=7),t>=b&&(e=b-6,t=b-2)):(e<1&&(e=1,t=5),t>b&&(t=b,(e=b-4)<1&&(e=1))),window.innerWidth>767&&b<9&&(e=1,t=b);var n=[];window.innerWidth>767&&b>=9&&(n.push('<button type="button" class="'.concat(1===S.pageNumber?"pagination__button pagination__button--current":"pagination__button",'" data-page="1">1</button>')),e-1>2?n.push('<button type="button" class="pagination__button" data-page="'.concat(e-3,'">...</button>')):n.push('<button type="button" class="'.concat(2===S.pageNumber?"pagination__button pagination__button--current":"pagination__button",'" data-page="2">2</button>')),b-t==1&&(e--,t--));for(var r=e;r<=t;r++)n.push('<button type="button" class="'.concat(r===S.pageNumber?"pagination__button pagination__button--current":"pagination__button",'" data-page="').concat(r,'">').concat(r,"</button>"));window.innerWidth>767&&b>=9&&(b-t>2?n.push('<button type="button" class="pagination__button" data-page="'.concat(t+3,'">...</button>')):n.push('<button type="button" class="'.concat(S.pageNumber===b-1?"pagination__button pagination__button--current":"pagination__button",'" data-page="').concat(b-1,'">').concat(b-1,"</button>")),n.push('<button type="button" class="'.concat(S.pageNumber===b?"pagination__button pagination__button--current":"pagination__button",'" data-page="').concat(b,'">').concat(b,"</button>"))),h.innerHTML=n.join("")}function B(){1===S.pageNumber?k.setAttribute("disabled","true"):k.removeAttribute("disabled"),S.pageNumber===b?x.setAttribute("disabled","true"):x.removeAttribute("disabled")}function F(){return O.apply(this,arguments)}function O(){return(O=e(o)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(),!S.searchQuery){e.next=6;break}return e.next=4,q();case 4:e.next=8;break;case 6:return e.next=8,L();case 8:v(),(0,y.modal)(),M(S.pageNumber-2,S.pageNumber+2),B(),j();case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function j(){_.scrollIntoView()}k.addEventListener("click",(function(){S.pageNumber>1&&(S.pageNumber--,F())})),x.addEventListener("click",(function(){S.pageNumber<b&&(S.pageNumber++,F())})),h.addEventListener("click",(function(e){S.pageNumber=Number(e.target.dataset.page),F()})),window.addEventListener("resize",(function(){M(S.pageNumber-2,S.pageNumber+2)}));y=a("5xtVg");var U="https://api.themoviedb.org/3/",H="f70abac86533d424df79b342ee8b9ff4";function A(){return(A=e(o)(e(c).mark((function t(){var n;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(i).get("".concat(U,"/trending/movie/week?api_key=").concat(H,"&page=").concat(1));case 3:return n=t.sent.data,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.error("ERROR");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var Q=document.querySelector(".container-movie-card");function R(e){var t=s.genres.reduce((function(t,n){var r=n.id,a=n.name;return e.includes(r)&&t.push(a),t}),[]);return t.length>3&&(t=t.slice(0,2)).push("Other"),t}function I(e){return e.length>30?"".concat(e.substring(0,30)," <span>...</span>"):e}(function(){return A.apply(this,arguments)})().then((function(t){var n;n=t.results.map((function(t){var n=t.id,r=t.title,a=t.poster_path,o=t.genre_ids,c=t.vote_average,i=t.release_date,s=R(o).join(", "),u=a?"https://image.tmdb.org/t/p/w500".concat(a):e(d);return'<div class="movie__card" id='.concat(n,'>\n    <img class="movie__poster" src="').concat(u,'" alt="').concat(r,'" loading="lazy">\n    <div class="movie__info">\n       <p class="movie__name">').concat(I(r),'</p>\n      <div class="movie__data">\n       <span class="movie__genre">').concat(s,'</span>\n       <span class="movie__year">').concat(i.slice(0,4),'</span>\n       <span class="movie__rating">').concat(c.toFixed(1),"</span>\n       </div>\n       </div>\n       </div>\n       ")})).join(""),Q.insertAdjacentHTML("beforeend",n),E(t.total_pages),localStorage.setItem("films-request-result",JSON.stringify(t.results)),(0,y.modal)()}));o=a("bpxeT"),c=a("2TvXO"),y=a("5xtVg");a("dIxxU");var V=new p,D={form:document.querySelector(".form"),markupMuvieForKeyword:document.querySelector(".container-movie-card"),boxError:document.querySelector(".cap__box-error")};document.querySelector(".container-movie-card");function J(){return(J=e(o)(e(c).mark((function t(n){var r,a,o;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),f(),V.searchQuery=n.currentTarget.elements.searchQuery.value.trim(),n.currentTarget.reset(),V.resetPage(),""!==V.searchQuery){e.next=9;break}return D.boxError.classList.remove("is-hidden"),K(),e.abrupt("return",v());case 9:return e.prev=9,e.next=12,V.fetchSearchFilms();case 12:if(r=e.sent,a=r.total_pages,0!==(o=r.results).length){e.next=19;break}return v(),K(),e.abrupt("return",D.boxError.classList.remove("is-hidden"));case 19:K(),P(o),D.boxError.classList.add("is-hidden"),E(a,V.searchQuery),localStorage.setItem("films-request-result",JSON.stringify(o)),(0,y.modal)(),v(),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(9),console.log(e.t0.message),v();case 32:case"end":return e.stop()}}),t,null,[[9,28]])})))).apply(this,arguments)}function P(e){D.markupMuvieForKeyword.insertAdjacentHTML("beforeend",g(e))}function K(){D.markupMuvieForKeyword.innerHTML=""}D.form.addEventListener("submit",(function(e){return J.apply(this,arguments)}));var W={modal:document.querySelector(".modalTeams"),closeBtn:document.querySelector(".modalTeamClose"),openModalTeam:document.querySelectorAll(".modalTeamOpen")};function z(e){"Escape"===e.code&&X()}function C(){document.body.style.overflow="hidden",window.addEventListener("keydown",z),W.modal.classList.remove("is-hidden")}function X(){document.body.style.overflow="",window.removeEventListener("keydown",z),W.modal.classList.add("is-hidden")}W.openModalTeam.forEach((function(e){e.addEventListener("click",C)})),W.closeBtn.addEventListener("click",X),W.modal.addEventListener("click",(function(e){e.currentTarget===e.target&&X()}));var Y=a("27i3Y"),G=document.querySelector(".btn__to-register"),Z=document.querySelector(".form-login"),$=document.querySelector(".form__register"),ee=document.querySelector(".singUp__form"),te=document.querySelector(".singUp__form-second");G.addEventListener("click",(function(){Z.style.display="none",$.style.display="block"})),(0,Y.fonNightDay)(),function(){var e={checkModalBtn:document.querySelector(".btn__form-login-check"),openModalBtn:document.querySelector(".btn__form-login"),closeModalBtn:document.querySelector(".modal-login__close-btn"),modal:document.querySelector(".modal__login"),modalBackdrop:document.querySelector(".bacekdrop_box")};function t(){Z.style.display="block",$.style.display="none",e.modal.classList.toggle("is-hidd"),e.modalBackdrop.classList.remove("bacekdrop")}e.checkModalBtn.style.display="none",e.openModalBtn.addEventListener("click",(function(){e.modal.classList.toggle("is-hidd"),e.modalBackdrop.classList.add("bacekdrop")})),e.closeModalBtn.addEventListener("click",t),ee.addEventListener("submit",(function(n){n.preventDefault();var r=n.currentTarget.email.value.trim(),a=n.currentTarget.text.value.trim();""===r||""===a?alert("Fill in the field!"):(console.log("Email:",r),console.log("Key:",a),ee.reset(),t(),alert("You have successfully logged into your account"),e.openModalBtn.style.display="none",e.checkModalBtn.style.display="block")})),te.addEventListener("submit",(function(e){e.preventDefault();var n=e.currentTarget.email.value.trim(),r=e.currentTarget.text.value.trim();""===n||""===r?alert("Fill in the field!"):(console.log("Email:",n),console.log("Key:",r),t(),alert("Registration was successful"))}))}(),f(),window.addEventListener("load",(function(){v()}))}();
//# sourceMappingURL=index.d73b6a4d.js.map
