{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-3fc8557408491ddc.js","src/index.js","src/filmsListMarkup.js","src/js/pagination.js","src/fetchMain.js","<<jsx-config-pragma.js>>","node_modules/@parcel/runtime-js/lib/runtime-fded36dffb834526.js","src/js/makemovieForKeywordMarkup.js","src/js/loader.js","src/js/getMoviesForKeyword.js","src/js/modalTeams.js","src/js/modalFormLogin.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.d73b6a4d.js\\\",\\\"4scEk\\\":\\\"defaultImage.eb2c73c4.jpg\\\",\\\"bEMvD\\\":\\\"myLibrary.788f5e03.js\\\"}\"));","import './js/modal';\nimport './js/modal';\nimport './filmsListMarkup';\nimport './js/pagination';\nimport './js/getMoviesForKeyword';\nimport './js/modalTeams';\nimport { fonNightDay } from './js/fonNightDay';\nimport { modalFormLogin } from './js/modalFormLogin';\nimport { initialLoader } from './js/loader';\n\nfonNightDay();\nmodalFormLogin();\ninitialLoader();\n\n","import axios from 'axios';\nimport { genres } from './genres.json';\nimport { initPagination } from './js/pagination';\nimport { modal } from './js/modal';\nimport defaultImage from '../defaultImage.jpg';\nconst baseUrl = 'https://api.themoviedb.org/3/';\nconst key = 'f70abac86533d424df79b342ee8b9ff4';\nlet page = 1;\n\nexport async function fetchTrendMovies() {\n  try {\n    const { data } = await axios.get(\n      `${baseUrl}/trending/movie/week?api_key=${key}&page=${page}`\n    );\n    return data;\n  } catch (error) {\n    console.error('ERROR');\n  }\n}\n\nconst cards = document.querySelector('.container-movie-card');\n\nfetchTrendMovies().then(data => {\n  makeFilmsMarkup(data);\n  initPagination(data.total_pages);\n  localStorage.setItem('films-request-result', JSON.stringify(data.results));\n  modal();\n  // console.log(data.results);\n});\n\nexport function makeFilmsMarkup(movie) {\n  const markup = movie.results\n    .map(\n      ({ id, title, poster_path, genre_ids, vote_average, release_date }) => {\n        const filmsGenresList = getfilmsGenresUl(genre_ids).join(', ');\n        const imageUrl = poster_path\n          ? `https://image.tmdb.org/t/p/w500${poster_path}`\n          : defaultImage;\n        return `<div class=\"movie__card\" id=${id}>\n    <img class=\"movie__poster\" src=\"${imageUrl}\" alt=\"${title}\" loading=\"lazy\">\n    <div class=\"movie__info\">\n       <p class=\"movie__name\">${trimMovieTitle(title)}</p>\n      <div class=\"movie__data\">\n       <span class=\"movie__genre\">${filmsGenresList}</span>\n       <span class=\"movie__year\">${release_date.slice(0, 4)}</span>\n       <span class=\"movie__rating\">${vote_average.toFixed(1)}</span>\n       </div>\n       </div>\n       </div>\n       `;\n      }\n    )\n    .join('');\n\n  cards.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function getfilmsGenresUl(genreId) {\n  let filmsGenres = genres.reduce((acc, { id, name }) => {\n    if (genreId.includes(id)) {\n      acc.push(name);\n    }\n    return acc;\n  }, []);\n  if (filmsGenres.length > 3) {\n    filmsGenres = filmsGenres.slice(0, 2);\n    filmsGenres.push('Other');\n  }\n  return filmsGenres;\n}\n\nexport function trimMovieTitle(movieTitle) {\n  if (movieTitle.length > 30) {\n    return `${movieTitle.substring(0, 30)} <span>...</span>`;\n  }\n  return movieTitle;\n}\n","import { FetchApi } from './../fetchMain';\nimport { makemovieForKeywordMarkup } from './makemovieForKeywordMarkup';\nimport { addLoader, removeLoader } from './loader';\nimport { modal } from './modal';\n\nconst drawSectionRef = document.querySelector('.container-movie-card');\nconst paginationWrapperRef = document.querySelector('.pagination__wrapper');\nconst paginationButtonPrevRef = document.querySelector(\n  '.pagination__button--prev'\n);\nconst paginationButtonNextRef = document.querySelector(\n  '.pagination__button--next'\n);\n\nlet pageCount;\nconst FILMS_REQUEST_RESULT = 'films-request-result';\nconst fetchApi = new FetchApi();\n\n// const MAX_PAGE_COUNT = 500; виявилося лише для популярних обмеження\n\npaginationButtonPrevRef.addEventListener('click', onPaginationButtonPrevClick);\npaginationButtonNextRef.addEventListener('click', onPaginationButtonNextClick);\npaginationWrapperRef.addEventListener('click', onPaginationButtonClick);\nwindow.addEventListener('resize', () => {\n  paginationButtonsMurkup(fetchApi.pageNumber - 2, fetchApi.pageNumber + 2);\n});\n\nexport function initPagination(totalPages, searchQuery = '') {\n  fetchApi.pageNumber = 1;\n  fetchApi.searchQuery = searchQuery;\n  pageCount = totalPages;\n  paginationButtonsMurkup(fetchApi.pageNumber - 2, fetchApi.pageNumber + 2);\n  setButtonArrowState();\n}\n\nasync function getTrendingFilms() {\n  const { total_pages, results } =\n    await fetchApi.fetchTrendingWeekFilmsByPage();\n  pageCount = total_pages;\n  localStorage.setItem(FILMS_REQUEST_RESULT, JSON.stringify(results));\n  drawSectionRef.innerHTML = makemovieForKeywordMarkup(results);\n  \n}\n\nasync function getSearchedFilms() {\n  const { total_pages, results } = await fetchApi.fetchSearchFilms();\n  pageCount = total_pages;\n  localStorage.setItem(FILMS_REQUEST_RESULT, JSON.stringify(results));\n  drawSectionRef.innerHTML = makemovieForKeywordMarkup(results);\n}\n\nfunction paginationButtonsMurkup(left, right) {\n  if (window.innerWidth > 767 && pageCount >= 9) {\n    if (left < 3) {\n      left = 3;\n      right = 7;\n    }\n    if (right >= pageCount) {\n      left = pageCount - 6;\n      right = pageCount - 2;\n    }\n  } else {\n    if (left < 1) {\n      left = 1;\n      right = 5;\n    }\n    if (right > pageCount) {\n      left = pageCount - 4;\n      right = pageCount;\n      if (left < 1) {\n        left = 1;\n      }\n    }\n  }\n  if (window.innerWidth > 767 && pageCount < 9) {\n    left = 1;\n    right = pageCount;\n  }\n\n  const buttonCollection = [];\n  if (window.innerWidth > 767 && pageCount >= 9) {\n    buttonCollection.push(\n      `<button type=\"button\" class=\"${\n        fetchApi.pageNumber === 1\n          ? 'pagination__button pagination__button--current'\n          : 'pagination__button'\n      }\" data-page=\"1\">1</button>`\n    );\n\n    if (left - 1 > 2) {\n      buttonCollection.push(\n        `<button type=\"button\" class=\"pagination__button\" data-page=\"${\n          left - 3\n        }\">...</button>`\n      );\n    } else {\n      buttonCollection.push(\n        `<button type=\"button\" class=\"${\n          fetchApi.pageNumber === 2\n            ? 'pagination__button pagination__button--current'\n            : 'pagination__button'\n        }\" data-page=\"2\">2</button>`\n      );\n    }\n    if (pageCount - right === 1) {\n      left--;\n      right--;\n    }\n  }\n\n  for (let i = left; i <= right; i++) {\n    buttonCollection.push(\n      `<button type=\"button\" class=\"${\n        i === fetchApi.pageNumber\n          ? 'pagination__button pagination__button--current'\n          : 'pagination__button'\n      }\" data-page=\"${i}\">${i}</button>`\n    );\n  }\n\n  if (window.innerWidth > 767 && pageCount >= 9) {\n    if (pageCount - right > 2) {\n      buttonCollection.push(\n        `<button type=\"button\" class=\"pagination__button\" data-page=\"${\n          right + 3\n        }\">...</button>`\n      );\n    } else {\n      buttonCollection.push(\n        `<button type=\"button\" class=\"${\n          fetchApi.pageNumber === pageCount - 1\n            ? 'pagination__button pagination__button--current'\n            : 'pagination__button'\n        }\" data-page=\"${pageCount - 1}\">${pageCount - 1}</button>`\n      );\n    }\n\n    buttonCollection.push(\n      `<button type=\"button\" class=\"${\n        fetchApi.pageNumber === pageCount\n          ? 'pagination__button pagination__button--current'\n          : 'pagination__button'\n      }\" data-page=\"${pageCount}\">${pageCount}</button>`\n    );\n  }\n\n  paginationWrapperRef.innerHTML = buttonCollection.join('');\n}\n\nfunction onPaginationButtonClick(e) {\n  fetchApi.pageNumber = Number(e.target.dataset.page);\n  getData();\n}\n\nfunction onPaginationButtonNextClick() {\n  if (fetchApi.pageNumber < pageCount) {\n    fetchApi.pageNumber++;\n    getData();\n  }\n}\n\nfunction onPaginationButtonPrevClick() {\n  if (fetchApi.pageNumber > 1) {\n    fetchApi.pageNumber--;\n    getData();\n  }\n}\n\nfunction setButtonArrowState() {\n  if (fetchApi.pageNumber === 1) {\n    paginationButtonPrevRef.setAttribute('disabled', 'true');\n  } else {\n    paginationButtonPrevRef.removeAttribute('disabled');\n  }\n  if (fetchApi.pageNumber === pageCount) {\n    paginationButtonNextRef.setAttribute('disabled', 'true');\n  } else {\n    paginationButtonNextRef.removeAttribute('disabled');\n  }\n}\n\nasync function getData() {\n  addLoader();\n  if (fetchApi.searchQuery) {\n    await getSearchedFilms();\n  } else {\n    await getTrendingFilms();\n  }\n  removeLoader();\n  modal();\n\n  paginationButtonsMurkup(fetchApi.pageNumber - 2, fetchApi.pageNumber + 2);\n  setButtonArrowState();\n  goToTopSection();\n}\n\nfunction goToTopSection() {\n  drawSectionRef.scrollIntoView();\n}\n","import axios from 'axios';\n\nexport class FetchApi {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.list = 'home';\n    this.baseUrl = 'https://api.themoviedb.org/3/';\n    this.language = 'en-US';\n    this.key = 'f70abac86533d424df79b342ee8b9ff4';\n  }\n  set pageNumber(el) {\n    this.page = el;\n  }\n  get pageNumber() {\n    return this.page;\n  }\n\n  get currentSearchQuery() {\n    return this.searchQuery;\n  }\n\n  set currentSearchQuery(newSearchQuery) {\n    this.searchQuery = newSearchQuery;\n  }\n\n  // get genres\n  async fetchGenres() {\n    const url = `${this.baseUrl}genre/movie/list?api_key=${this.key}&language=${this.language}`;\n    try {\n      const response = await fetch(url);\n\n      const results = await response.json();\n      return results;\n    } catch (error) {\n      error;\n    }\n  }\n\n  // trending movies\n  async fetchTrendingWeekFilmsByPage() {\n    const url = `${this.baseUrl}trending/movie/week?api_key=${this.key}&language=${this.language}&page=${this.page}`;\n    const response = await fetch(url);\n\n    return await response.json();\n  }\n\n  // popular movies\n  async fetchPopularFilmsByPage() {\n    const url = `${this.baseUrl}movie/popular?api_key=${this.key}&language=${this.language}&page=${this.page}`;\n    const response = await fetch(url);\n\n    return await response.json();\n  }\n\n  // search movie\n  async fetchSearchFilms() {\n    try {\n      const response = await fetch(\n        `${this.baseUrl}search/movie?api_key=${this.key}&language=${this.language}&page=${this.page}&include_adult=false&query=${this.searchQuery}`\n      );\n      const data = await response.json();\n      const results = await data;\n      return results;\n    } catch (error) {\n      error;\n    }\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n",null,"module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"4scEk\");","import { getfilmsGenresUl } from '../filmsListMarkup';\nimport { trimMovieTitle } from '../filmsListMarkup';\nimport defaultImage from '../../defaultImage.jpg';\n\nexport const makemovieForKeywordMarkup = results => {\n  return results\n    .map(\n      ({ id, title, poster_path, genre_ids, vote_average, release_date }) => {\n        const filmsGenresList = getfilmsGenresUl(genre_ids).join(', ');\n        const imageUrl = poster_path\n          ? `https://image.tmdb.org/t/p/w500${poster_path}`\n          : defaultImage;\n        return `<div class=\"movie__card\" id=${id}>\n    <img class=\"movie__poster\" src=\"${imageUrl}\" alt=\"${title}\" loading=\"lazy\">\n    <div class=\"movie__info\">\n       <p class=\"movie__name\">${trimMovieTitle(title)}</p>\n      <div class=\"movie__data\">\n       <span class=\"movie__genre\">${filmsGenresList}</span>\n       <span class=\"movie__year\">${release_date.slice(0, 4)}</span>\n       <span class=\"movie__rating\">${vote_average.toFixed(1)}</span>\n       </div>\n       </div>\n       </div>\n       `;\n      }\n    )\n    .join('');\n};\n","import { Loading } from 'notiflix';\n\nfunction addLoader() {  \n    Loading.circle({\n        svgColor: '#FF001B',\n        svgSize: '90px',\n        cssAnimation: true\n    });\n    document.querySelector('body').style.overflow = 'hidden';\n}\n\nfunction removeLoader() {\n    setTimeout(() => {\n        Loading.remove(); \n        document.querySelector('body').style.overflow = 'visible';   \n    }, 300);\n}\n\nfunction initialLoader() {\n    addLoader();\n\n    window.addEventListener('load', () => {\n        removeLoader();\n    });\n}\n\nexport { addLoader, removeLoader, initialLoader };","import { FetchApi } from '../fetchMain';\n\nimport { initPagination } from './pagination';\n\nimport { addLoader, removeLoader } from './loader';\nimport { makemovieForKeywordMarkup } from './makemovieForKeywordMarkup';\nimport { modal } from './modal';\nimport axios from 'axios';\n\nconst fetchApi = new FetchApi();\n\nconst refs = {\n  form: document.querySelector('.form'),\n  markupMuvieForKeyword: document.querySelector('.container-movie-card'),\n  boxError: document.querySelector('.cap__box-error'),\n};\n\nconst cards = document.querySelector('.container-movie-card');\n\nrefs.form.addEventListener('submit', omFormUserSubmit);\n\nasync function omFormUserSubmit(event) {\n  event.preventDefault();\n  addLoader();\n  fetchApi.searchQuery = event.currentTarget.elements.searchQuery.value.trim();\n\n  event.currentTarget.reset();\n  fetchApi.resetPage();\n  if (fetchApi.searchQuery === '') {\n    refs.boxError.classList.remove('is-hidden');\n    clearResultsContainer();\n    return removeLoader();\n  }\n\n  try {\n    const { total_pages, results } = await fetchApi.fetchSearchFilms();\n\n    if (results.length === 0) {\n      removeLoader();\n      clearResultsContainer();\n      return refs.boxError.classList.remove('is-hidden');\n    }\n\n    clearResultsContainer();\n    appendResultsMarkup(results);\n\n    refs.boxError.classList.add('is-hidden');\n\n    initPagination(total_pages, fetchApi.searchQuery);\n    localStorage.setItem('films-request-result', JSON.stringify(results));\n    modal();\n\n    removeLoader();\n  } catch (error) {\n    console.log(error.message);\n    removeLoader();\n  }\n}\n\nfunction appendResultsMarkup(results) {\n  refs.markupMuvieForKeyword.insertAdjacentHTML(\n    'beforeend',\n    makemovieForKeywordMarkup(results)\n  );\n}\n\nfunction clearResultsContainer() {\n  refs.markupMuvieForKeyword.innerHTML = '';\n}\n","\nconst refs = {\n  modal: document.querySelector('.modalTeams'),\n  closeBtn: document.querySelector('.modalTeamClose'),\n  openModalTeam: document.querySelectorAll('.modalTeamOpen'),\n};\n\n// відкритя модалку\nrefs.openModalTeam.forEach(item => {\n  item.addEventListener('click', onOpenModal);\n});\n\n// закритя модалку\nrefs.closeBtn.addEventListener('click', onCloseModal);\n\n// бекдропу закриває модалку\nrefs.modal.addEventListener('click', onBackdropClick);\n\nfunction onBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    onCloseModal();\n  }\n}\n\n// Escape закриває модалку\nfunction onEscKeyPress(event) {\n  const ESC_KEY = event.code === 'Escape';\n\n  if (ESC_KEY) {\n    onCloseModal();\n  }\n}\n\n// Функція відкриватя модалки.\nfunction onOpenModal() {\n  document.body.style.overflow = 'hidden';\n  window.addEventListener('keydown', onEscKeyPress);\n  refs.modal.classList.remove('is-hidden');\n}\n\n// Функція закритя\nfunction onCloseModal() {\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', onEscKeyPress);\n  refs.modal.classList.add('is-hidden');\n}\n","\nconst registerBtn = document.querySelector(\".btn__to-register\");\nconst formLogin = document.querySelector(\".form-login\");\nconst formRegister = document.querySelector(\".form__register\");\nconst form = document.querySelector(\".singUp__form\");\nconst formReg = document.querySelector(\".singUp__form-second\");\n\n\n\nregisterBtn.addEventListener('click', () => {\n  formLogin.style.display = 'none';\n  formRegister.style.display = 'block';\n})\nexport function modalFormLogin()  {\n    (() => {\n  const refs = {\n    checkModalBtn: document.querySelector(\".btn__form-login-check\"),\n    openModalBtn: document.querySelector(\".btn__form-login\"),\n    closeModalBtn: document.querySelector(\".modal-login__close-btn\"),\n    modal: document.querySelector(\".modal__login\"),\n    modalBackdrop: document.querySelector(\".bacekdrop_box\"),\n  };\n  refs.checkModalBtn.style.display = 'none';\n  refs.openModalBtn.addEventListener(\"click\", toggleModal);\n  refs.closeModalBtn.addEventListener(\"click\", toggleModalClose);\n\n  function toggleModal() {\n    refs.modal.classList.toggle(\"is-hidd\");\n    refs.modalBackdrop.classList.add(\"bacekdrop\");\n    \n  }\n  function toggleModalClose() {\n    formLogin.style.display = 'block';\n    formRegister.style.display = 'none';\n    refs.modal.classList.toggle(\"is-hidd\");\n    refs.modalBackdrop.classList.remove(\"bacekdrop\");\n  }\n      \n  form.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    const emailInput = e.currentTarget.email.value.trim();\n    const keylInput = e.currentTarget.text.value.trim();\n    if (emailInput === '' || keylInput === '') {\n      alert(\"Fill in the field!\");\n    } else {\n      console.log(\"Email:\", emailInput);\n      console.log(\"Key:\", keylInput);\n      form.reset();\n      toggleModalClose();\n      alert(\"You have successfully logged into your account\");\n      refs.openModalBtn.style.display = 'none';\n      refs.checkModalBtn.style.display = 'block';\n    }\n  });\n  formReg.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    const emailInput = e.currentTarget.email.value.trim();\n    const keylInput = e.currentTarget.text.value.trim();\n    if (emailInput === '' || keylInput === '') {\n      alert(\"Fill in the field!\");\n    } else {\n      console.log(\"Email:\", emailInput);\n      console.log(\"Key:\", keylInput);\n      \n      toggleModalClose();\n      alert(\"Registration was successful\");\n    }\n  });\n    })();\n  \n  \n};\n\n"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$34258b746a559753$export$e1dc588fff48d84a","FetchApi","this","searchQuery","page","list","baseUrl","language","key","el","newSearchQuery","$parcel$interopDefault","$2TvXO","mark","_callee","url","response","results","concat","_this","fetch","_ctx","sent","json","data","$f5f05a073a52dd44$exports","getBundleURL","resolve","$c4154b24677f03f8$export$8b9a60a197c3be79","map","param","id","title","poster_path","genre_ids","vote_average","release_date","filmsGenresList","$14937835c5c04028$export$49c82bf87145900d","join","imageUrl","$14937835c5c04028$export$c162ec657b53c2a3","slice","toFixed","$iU1Pc","$03da642c15b09e5e$export$4d81fd392b0a6f3e","Loading","circle","svgColor","svgSize","cssAnimation","document","querySelector","style","overflow","$03da642c15b09e5e$export$5303cf8b8f096deb","setTimeout","remove","$dfaf77c789ce7a24$var$pageCount","$dfaf77c789ce7a24$var$drawSectionRef","$dfaf77c789ce7a24$var$paginationWrapperRef","$dfaf77c789ce7a24$var$paginationButtonPrevRef","$dfaf77c789ce7a24$var$paginationButtonNextRef","$dfaf77c789ce7a24$var$FILMS_REQUEST_RESULT","$dfaf77c789ce7a24$var$fetchApi","$dfaf77c789ce7a24$export$6dfc2f1a4e205afe","totalPages","arguments","length","pageNumber","$dfaf77c789ce7a24$var$paginationButtonsMurkup","$dfaf77c789ce7a24$var$setButtonArrowState","$dfaf77c789ce7a24$var$getTrendingFilms","$dfaf77c789ce7a24$var$_getTrendingFilms","apply","ref","total_pages","fetchTrendingWeekFilmsByPage","localStorage","setItem","stringify","innerHTML","$dfaf77c789ce7a24$var$getSearchedFilms","$dfaf77c789ce7a24$var$_getSearchedFilms","fetchSearchFilms","left","right","window","innerWidth","buttonCollection","push","i","setAttribute","removeAttribute","$dfaf77c789ce7a24$var$getData","$dfaf77c789ce7a24$var$_getData","$5xtVg","modal","$dfaf77c789ce7a24$var$goToTopSection","scrollIntoView","addEventListener","e","Number","target","dataset","$14937835c5c04028$var$baseUrl","$14937835c5c04028$var$key","$14937835c5c04028$var$_fetchTrendMovies","$dIxxU","get","console","error","$14937835c5c04028$var$cards","genreId","filmsGenres","$fKcg4","genres","reduce","acc","name","includes","movieTitle","substring","$14937835c5c04028$export$c798854e734872f","then","markup","insertAdjacentHTML","$0feb9e363e218de0$var$fetchApi","$0feb9e363e218de0$var$refs","form","markupMuvieForKeyword","boxError","$0feb9e363e218de0$var$_omFormUserSubmit","event","preventDefault","currentTarget","elements","value","trim","reset","resetPage","classList","$0feb9e363e218de0$var$clearResultsContainer","$0feb9e363e218de0$var$appendResultsMarkup","add","log","t0","message","$17a0547dc74b1198$var$refs","closeBtn","openModalTeam","querySelectorAll","$17a0547dc74b1198$var$onEscKeyPress","code","$17a0547dc74b1198$var$onCloseModal","$17a0547dc74b1198$var$onOpenModal","body","removeEventListener","forEach","item","$f19c0160d43a1dfa$var$registerBtn","$f19c0160d43a1dfa$var$formLogin","$f19c0160d43a1dfa$var$formRegister","$f19c0160d43a1dfa$var$form","$f19c0160d43a1dfa$var$formReg","display","$27i3Y","fonNightDay","refs","checkModalBtn","openModalBtn","closeModalBtn","modalBackdrop","toggleModalClose","toggle","emailInput","email","keylInput","text","alert"],"version":3,"file":"index.d73b6a4d.js.map"}