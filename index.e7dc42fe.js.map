{"mappings":"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","sources":["src/index.js","src/js/getMoviesForKeyword.js","src/js/modalTeams.js","src/js/modalFormLogin.js"],"sourcesContent":["import './js/modal';\nimport './js/modal';\nimport './filmsListMarkup';\nimport './js/pagination';\nimport './js/getMoviesForKeyword';\nimport './js/modalTeams';\nimport { fonNightDay } from './js/fonNightDay';\nimport { modalFormLogin } from './js/modalFormLogin';\nimport { initialLoader } from './js/loader';\n\nfonNightDay();\nmodalFormLogin();\ninitialLoader();\n\n","import { FetchApi } from '../fetchMain';\n\nimport { initPagination } from './pagination';\n\nimport { addLoader, removeLoader } from './loader';\nimport { makemovieForKeywordMarkup } from './makemovieForKeywordMarkup';\nimport { modal } from './modal';\nimport axios from 'axios';\n\nconst fetchApi = new FetchApi();\n\nconst refs = {\n  form: document.querySelector('.form'),\n  markupMuvieForKeyword: document.querySelector('.container-movie-card'),\n  boxError: document.querySelector('.cap__box-error'),\n};\n\nconst cards = document.querySelector('.container-movie-card');\n\nrefs.form.addEventListener('submit', omFormUserSubmit);\n\nasync function omFormUserSubmit(event) {\n  event.preventDefault();\n  addLoader();\n  fetchApi.searchQuery = event.currentTarget.elements.searchQuery.value.trim();\n\n  event.currentTarget.reset();\n  fetchApi.resetPage();\n  if (fetchApi.searchQuery === '') {\n    refs.boxError.classList.remove('is-hidden');\n    clearResultsContainer();\n    return removeLoader();\n  }\n\n  try {\n    const { total_pages, results } = await fetchApi.fetchSearchFilms();\n\n    if (results.length === 0) {\n      removeLoader();\n      clearResultsContainer();\n      return refs.boxError.classList.remove('is-hidden');\n    }\n\n    clearResultsContainer();\n    appendResultsMarkup(results);\n\n    refs.boxError.classList.add('is-hidden');\n\n    initPagination(total_pages, fetchApi.searchQuery);\n    localStorage.setItem('films-request-result', JSON.stringify(results));\n    modal();\n\n    removeLoader();\n  } catch (error) {\n    console.log(error.message);\n    removeLoader();\n  }\n}\n\nfunction appendResultsMarkup(results) {\n  refs.markupMuvieForKeyword.insertAdjacentHTML(\n    'beforeend',\n    makemovieForKeywordMarkup(results)\n  );\n}\n\nfunction clearResultsContainer() {\n  refs.markupMuvieForKeyword.innerHTML = '';\n}\n","\nconst refs = {\n  modal: document.querySelector('.modalTeams'),\n  closeBtn: document.querySelector('.modalTeamClose'),\n  openModalTeam: document.querySelectorAll('.modalTeamOpen'),\n};\n\n// відкритя модалку\nrefs.openModalTeam.forEach(item => {\n  item.addEventListener('click', onOpenModal);\n});\n\n// закритя модалку\nrefs.closeBtn.addEventListener('click', onCloseModal);\n\n// бекдропу закриває модалку\nrefs.modal.addEventListener('click', onBackdropClick);\n\nfunction onBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    onCloseModal();\n  }\n}\n\n// Escape закриває модалку\nfunction onEscKeyPress(event) {\n  const ESC_KEY = event.code === 'Escape';\n\n  if (ESC_KEY) {\n    onCloseModal();\n  }\n}\n\n// Функція відкриватя модалки.\nfunction onOpenModal() {\n  document.body.style.overflow = 'hidden';\n  window.addEventListener('keydown', onEscKeyPress);\n  refs.modal.classList.remove('is-hidden');\n}\n\n// Функція закритя\nfunction onCloseModal() {\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', onEscKeyPress);\n  refs.modal.classList.add('is-hidden');\n}\n","\nconst registerBtn = document.querySelector(\".btn__to-register\");\nconst formLogin = document.querySelector(\".form-login\");\nconst formRegister = document.querySelector(\".form__register\");\nconst form = document.querySelector(\".singUp__form\");\nconst formReg = document.querySelector(\".singUp__form-second\");\n\n\n\nregisterBtn.addEventListener('click', () => {\n  formLogin.style.display = 'none';\n  formRegister.style.display = 'block';\n})\nexport function modalFormLogin()  {\n    (() => {\n  const refs = {\n    checkModalBtn: document.querySelector(\".btn__form-login-check\"),\n    openModalBtn: document.querySelector(\".btn__form-login\"),\n    closeModalBtn: document.querySelector(\".modal-login__close-btn\"),\n    modal: document.querySelector(\".modal__login\"),\n    modalBackdrop: document.querySelector(\".bacekdrop_box\"),\n  };\n  refs.checkModalBtn.style.display = 'none';\n  refs.openModalBtn.addEventListener(\"click\", toggleModal);\n  refs.closeModalBtn.addEventListener(\"click\", toggleModalClose);\n\n  function toggleModal() {\n    refs.modal.classList.toggle(\"is-hidd\");\n    refs.modalBackdrop.classList.add(\"bacekdrop\");\n    \n  }\n  function toggleModalClose() {\n    formLogin.style.display = 'block';\n    formRegister.style.display = 'none';\n    refs.modal.classList.toggle(\"is-hidd\");\n    refs.modalBackdrop.classList.remove(\"bacekdrop\");\n  }\n      \n  form.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    const emailInput = e.currentTarget.email.value.trim();\n    const keylInput = e.currentTarget.text.value.trim();\n    if (emailInput === '' || keylInput === '') {\n      alert(\"Fill in the field!\");\n    } else {\n      console.log(\"Email:\", emailInput);\n      console.log(\"Key:\", keylInput);\n      form.reset();\n      toggleModalClose();\n      alert(\"You have successfully logged into your account\");\n      refs.openModalBtn.style.display = 'none';\n      refs.checkModalBtn.style.display = 'block';\n    }\n  });\n  formReg.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    const emailInput = e.currentTarget.email.value.trim();\n    const keylInput = e.currentTarget.text.value.trim();\n    if (emailInput === '' || keylInput === '') {\n      alert(\"Fill in the field!\");\n    } else {\n      console.log(\"Email:\", emailInput);\n      console.log(\"Key:\", keylInput);\n      \n      toggleModalClose();\n      alert(\"Registration was successful\");\n    }\n  });\n    })();\n  \n  \n};\n\n"],"names":["parcelRequire","$6jtoB","$b638844e344c86cb$var$fetchApi","FetchApi","$b638844e344c86cb$var$refs","form","document","querySelector","markupMuvieForKeyword","boxError","$b638844e344c86cb$var$clearResultsContainer","innerHTML","addEventListener","async","event","preventDefault","$gjiCh","addLoader","searchQuery","currentTarget","elements","value","trim","reset","resetPage","classList","remove","removeLoader","total_pages","results","fetchSearchFilms","length","insertAdjacentHTML","$jMfxW","makemovieForKeywordMarkup","$b638844e344c86cb$var$appendResultsMarkup","add","$2nhTy","initPagination","localStorage","setItem","JSON","stringify","$bTcpz","modal","error","console","log","message","$d9e28b88fad4911f$var$refs","closeBtn","openModalTeam","querySelectorAll","$d9e28b88fad4911f$var$onEscKeyPress","code","$d9e28b88fad4911f$var$onCloseModal","$d9e28b88fad4911f$var$onOpenModal","body","style","overflow","window","removeEventListener","forEach","item","target","$42ffccd3bd7d93a8$var$registerBtn","$42ffccd3bd7d93a8$var$formLogin","$42ffccd3bd7d93a8$var$formRegister","$42ffccd3bd7d93a8$var$form","$42ffccd3bd7d93a8$var$formReg","display","$7Uk0D","fonNightDay","refs","checkModalBtn","openModalBtn","closeModalBtn","modalBackdrop","toggleModalClose","toggle","e","emailInput","email","keylInput","text","alert","initialLoader"],"version":3,"file":"index.e7dc42fe.js.map"}